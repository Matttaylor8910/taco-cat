<ion-view id="overview">
  <ion-nav-title>ğŸŒ®ğŸ˜º</ion-nav-title>
  <ion-content class="padding">

    <ion-spinner ng-if="$ctrl.loading" icon="lines"></ion-spinner>

    <div ng-if="!$ctrl.loading && !$ctrl.error">
      <div ng-if="$ctrl.user">
        <h3 class="text-center">{{ $ctrl.user.name }}, you have eaten</h3>

        <div class="taco-count text-center">{{ $ctrl.tacoCounter }}</div>

        <h3 class="text-center padding-bottom">{{ $ctrl.tacoCounter === 1 ? 'taco' : 'tacos' }}! {{$ctrl.user.tacos === 0 ? 'ğŸ™€' : 'ğŸŒ®ğŸŒ®ğŸŒ®'}}</h3>
      </div>

      <button
        class="button button-block button-clear button-positive"
        ng-if="$ctrl.firebase.user.id === $ctrl.userId"
        ng-click="$ctrl.tacosModal($event)">
        {{$ctrl.user.tacos === 0 ? 'Eat Some Tacos' : 'Eat More Tacos'}}
      </button>

      <div class="card" ng-if="$ctrl.user.tacoEvents.length > 0">
        <taco-item ng-class="{'no-border': $index === 0}" event="event" ng-repeat="event in $ctrl.user.tacoEvents"></taco-item>
      </div>
    </div>

    <div class="text-center" ng-if="$ctrl.error">
      <span>Could not load user. This is probably because you have recently been deleted. Talk to Matt or Daniel if you think you're seeing this in error.</span>

      <button
        class="button button-block button-clear button-positive"
        ng-click="$ctrl.clearUser()">
        RETURN TO LOGIN
      </button>
    </div>
  </ion-content>
</ion-view>
